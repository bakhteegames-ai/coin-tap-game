<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Coin Tap - Earn Coins!</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            color: white;
        }

        .container {
            width: 100%;
            max-width: 500px;
            padding: 20px;
            text-align: center;
        }

        .header {
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .coin-display {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .coin-button {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(145deg, #ffd700, #ffed4e);
            border: none;
            font-size: 4em;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.1s;
            margin: 20px auto;
            display: block;
        }

        .coin-button:active {
            transform: scale(0.95);
        }

        .stats {
            margin-top: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .stat-box {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
        }

        .upgrades {
            margin-top: 30px;
        }

        .upgrade-button {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            width: 100%;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .upgrade-button:hover:not(:disabled) {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .upgrade-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .click-animation {
            position: absolute;
            color: #ffd700;
            font-size: 2em;
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 1s ease-out;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ’° Coin Tap</h1>
            <div class="coin-display" id="coinDisplay">0</div>
        </div>

        <button class="coin-button" id="coinButton">ðŸª™</button>

        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Coins per Tap</div>
                <div class="stat-value" id="perTap">1</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Total Taps</div>
                <div class="stat-value" id="totalTaps">0</div>
            </div>
        </div>

        <div class="upgrades">
            <button class="upgrade-button" id="upgrade1">
                ðŸš€ Double Tap Power<br>
                <small>Cost: <span id="cost1">10</span> coins</small>
            </button>
            <button class="upgrade-button" id="upgrade2">
                âš¡ Triple Tap Power<br>
                <small>Cost: <span id="cost2">50</span> coins</small>
            </button>
            <button class="upgrade-button" id="upgrade3">
                ðŸ’Ž 5x Tap Power<br>
                <small>Cost: <span id="cost3">200</span> coins</small>
            </button>
        </div>
    </div>

    <script>
        // Initialize Telegram WebApp
        let tg = window.Telegram.WebApp;
        tg.expand();

        // Game state
        let coins = parseInt(localStorage.getItem('coins')) || 0;
        let coinsPerTap = parseInt(localStorage.getItem('coinsPerTap')) || 1;
        let totalTaps = parseInt(localStorage.getItem('totalTaps')) || 0;
        let upgradeCosts = {
            upgrade1: 10,
            upgrade2: 50,
            upgrade3: 200
        };

        // Elements
        const coinDisplay = document.getElementById('coinDisplay');
        const coinButton = document.getElementById('coinButton');
        const perTapDisplay = document.getElementById('perTap');
        const totalTapsDisplay = document.getElementById('totalTaps');

        // Update display
        function updateDisplay() {
            coinDisplay.textContent = coins;
            perTapDisplay.textContent = coinsPerTap;
            totalTapsDisplay.textContent = totalTaps;
            
            // Save to localStorage
            localStorage.setItem('coins', coins);
            localStorage.setItem('coinsPerTap', coinsPerTap);
            localStorage.setItem('totalTaps', totalTaps);
            
            // Update upgrade buttons
            updateUpgradeButtons();
        }

        // Update upgrade button states
        function updateUpgradeButtons() {
            document.getElementById('upgrade1').disabled = coins < upgradeCosts.upgrade1;
            document.getElementById('upgrade2').disabled = coins < upgradeCosts.upgrade2;
            document.getElementById('upgrade3').disabled = coins < upgradeCosts.upgrade3;
        }

        // Coin tap handler
        coinButton.addEventListener('click', function(e) {
            coins += coinsPerTap;
            totalTaps++;
            
            // Create floating animation
            const animation = document.createElement('div');
            animation.className = 'click-animation';
            animation.textContent = '+' + coinsPerTap;
            animation.style.left = e.pageX + 'px';
            animation.style.top = e.pageY + 'px';
            document.body.appendChild(animation);
            
            setTimeout(() => animation.remove(), 1000);
            
            updateDisplay();
            
            // Haptic feedback
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        });

        // Upgrade 1: Double tap power
        document.getElementById('upgrade1').addEventListener('click', function() {
            if (coins >= upgradeCosts.upgrade1) {
                coins -= upgradeCosts.upgrade1;
                coinsPerTap *= 2;
                upgradeCosts.upgrade1 = Math.floor(upgradeCosts.upgrade1 * 2.5);
                document.getElementById('cost1').textContent = upgradeCosts.upgrade1;
                updateDisplay();
                
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('success');
                }
            }
        });

        // Upgrade 2: Triple tap power
        document.getElementById('upgrade2').addEventListener('click', function() {
            if (coins >= upgradeCosts.upgrade2) {
                coins -= upgradeCosts.upgrade2;
                coinsPerTap *= 3;
                upgradeCosts.upgrade2 = Math.floor(upgradeCosts.upgrade2 * 2.5);
                document.getElementById('cost2').textContent = upgradeCosts.upgrade2;
                updateDisplay();
                
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('success');
                }
            }
        });

        // Upgrade 3: 5x tap power
        document.getElementById('upgrade3').addEventListener('click', function() {
            if (coins >= upgradeCosts.upgrade3) {
                coins -= upgradeCosts.upgrade3;
                coinsPerTap *= 5;
                upgradeCosts.upgrade3 = Math.floor(upgradeCosts.upgrade3 * 2.5);
                document.getElementById('cost3').textContent = upgradeCosts.upgrade3;
                updateDisplay();
                
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('success');
                }
            }
        });

        // Initial display update
        updateDisplay();
    </script>
</body>
</html>
